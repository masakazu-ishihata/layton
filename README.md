# レイトン教授

レイトン教授に登場する問題を一部一般化して解くプログラムたち。

## n-気球問題 (kikyu.rb)

サイズ n の気球とは、1~n^2 の数字を n × n の格子状に並べたものである。
以下に サイズ 3 の気球の例を示す。

    1 2 3
    4 5 6
    7 8 9

サイズ n 気球が飛行可能であるためには、気球中の(n-1)×(n-1) の部分格子
の総和がすべて同じ必要がある。例えば上記の例では以下の４つの部分格子の
和が等しくなければならない。

    1 2 *   * 2 3   * * *   * * *
    4 5 *   * 5 6   4 5 *   * 5 6
    * * *   * * *   7 8 *   * 8 9

n-気球問題とは飛行可能な気球の配置を１つもしくはすべて列挙する問題である。



## n-ピラミッド問題 (pyramid.rb)

深さ n のピラミッドとは、d 段目に d 個の数字を配置した三角形である。以
下に深さ 4 のピラミッドの例を示す。

    d
    1 : 1
    2 : 2 3
    3 : 4 5 6
    4 : 7 8 9 10

上図において数字 i の真下の数字、及びその右の数字を i の子と呼ぶ。
今、iの子をj,kとすれば、n-ピラミッド問題とは任意の i について以下を
満たすように数字を配置する問題である。

    i = |j - k|


## 猫の散歩 (cat.rb)

２匹の猫に全く同じ指示を出して、同時に帰宅させる。ただし、猫は隣に魚の
あるマスがあると、そこに移動してしまう。また、猫はマンホールの上を通過
することはできない。猫はゴール以外で同時に同じマスに存在することはでき
ない。以下に配置例を示す。_ は空白、Fは魚、Hはマンホール、Gはゴール、
U, D, R, L は黒猫の場所と向き、u, d, r, l は白猫の場所と向きを表す。

    Problem 1
      1 2 3 4 5 6 7
    1 _ _ H _ _ _ F
    2 _ R _ _ _ H _
    3 F _ _ G _ _ _
    4 _ _ _ _ _ u _
    5 _ _ _ H _ _ _

    Problem 2
      1 2 3 4 5 6 7
    1 _ _ _ F _ _ F
    2 _ D _ _ _ _ _
    3 _ _ F G H r _
    4 F H _ _ _ _ F
    5 _ _ _ _ F H _

なお入力ファイルは以下のように与えられる。

    prob1.txt
    1 3 H
    1 7 F
    2 2 R
    2 6 H
    3 1 F
    3 4 G
    4 6 u
    5 4 H

    prob2.txt
    1 4 F
    1 7 F
    2 2 D
    3 3 F
    3 4 G
    3 5 H
    3 6 r
    4 1 F
    4 2 H
    4 7 F
    5 5 F
    5 6 H

ちなみに１問目は黒猫を「↓、↓、↓、↑、↑、→、→、→」の順に動かすとゴールできる。

## 鍵を開けろ

ダイヤル式の鍵を開ける。ダイヤルは n 枚の歯車から成り、歯車には４つの数
字が書かれている。この鍵は同じ面の歯車の数字の総和がすべて等しくなるよ
うに回せば解錠できる。例えば以下が鍵の一例である。

    5 2 3 7
    8 5 4 9
    6 4 3 2
    6 2 3 7

各段が歯車に対応し、各行の総和が全て人惜しい時、開場される。例えば上の
状態の鍵の２段目を右に回すと以下のようになる。

    5 2 3 7
    9 8 5 4
    6 4 3 2
    6 2 3 7

## 花束を届けよう

長方形のフィールドには 0,1,2,3,4 の数字が書かれている。0は行き止まりを
意味するが、1~4は直進、右折、左折、ジャンプ（一マスとばして前進）のいず
れかであるが、対応はわかっていない。スタートからゴールまで行けるように
適切に1~4と直進、右折、左折、ジャンプの対応を見つけよ。以下は例題である。

    0 1 2 2 3 3 1 0
    0 3 4 3 4 2 1 0
    S 4 4 3 1 1 3 G
    0 4 1 2 1 1 4 0
    0 4 2 1 3 3 4 0

上図のSからGへ自動的に移動するよう 1~4 に対応を与えよう。
